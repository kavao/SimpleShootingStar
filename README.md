# SimpleGame（Go + Ebiten）

## 概要
このゲームはGo言語とEbitenライブラリを使って作成した、シンプルかつ本格的な2Dシューティングゲームです。

- プレイヤー（緑色の自機）を操作し、三方向ショットで敵を倒します。
- 敵は複数の種類・耐久度・弾発射パターンを持ち、ステージごとに多彩な攻撃を仕掛けてきます。
- 敵や自機の爆発、敵弾発射時のラインエフェクト、背景の多彩な星など、視覚効果も充実しています。
- ステージクリア・ゲームオーバー・タイトル画面・スコア・ハイスコア表示など、ゲームとしての基本機能を備えています。

## ゲームの遊び方
- 矢印キー：自機の移動
- スペースキー：三方向ショットを発射
- Rキー：ゲームオーバー時にリスタート
- ステージクリア時はスペースキーまたは2秒待つと次のステージへ進みます

### ルール
- 敵や敵弾に当たるとゲームオーバーです。
- 敵を倒すとスコアが加算されます。
- ステージごとに敵の出現パターンや弾の種類が変化します。
- 全ステージクリアでゲームクリアとなります。

## ゲームの特徴
- 三方向ショット：自機の左右・中央から狭いレンジで3発同時発射
- 敵のバリエーション：
  - まっすぐ進む敵、サインカーブで動く敵、特殊な動きをする敵
  - 弾を撃つ敵・撃たない敵を個別に設定可能
  - 弾の種類（主人公狙い・真下・斜め）も個別設定
- 敵弾発射エフェクト：発射方向に画面端まで伸びる黄色いラインが一瞬表示
- 爆発エフェクト：敵や自機がやられた時にパーティクルが飛び散る
- 背景の星：白～青系の暗めの星が流れる
- スコア・ハイスコア・ステージ名を大きな日本語TTFフォントで表示

## 内部構造・設計解説
- **main.go** 1ファイルで完結した構成
- **Go + Ebiten** の標準的なゲームループ（Update/Draw/Layout）
- **構造体設計**
  - `Game`：ゲーム全体の状態を管理
  - `Star`：背景の星（色・速度・長さもランダム）
  - `Bullet`：自機の弾（vx, vyで三方向）
  - `Enemy`：敵（種類・HP・弾発射パターン・弾発射クールダウン）
  - `EnemyBullet`：敵の弾（vx, vyで多方向）
  - `Particle`：爆発や発射エフェクト（四角 or ライン型）
  - `Wave`/`Stage`：ステージごとの敵出現パターン
- **エフェクト管理**
  - パーティクルスプールで爆発・発射ラインを一元管理
- **フォント**
  - `assets/NotoSansJP-Regular.ttf`を使用し、スコアやタイトルなどを大きく美しく表示
- **ステージ進行**
  - ステージごとに敵の出現・弾発射パターンを柔軟に設定可能
  - ステージクリア時は弾を全消去し、演出後に次ステージへ
- **ゲームオーバー・クリア演出**
  - 爆発アニメーション後にゲームオーバー画面へ遷移

## セットアップ・実行方法
1. 必要なGoモジュールをインストールします。

```
go mod tidy
```

2. TTFフォント（例: NotoSansJP-Regular.ttf）を`assets`フォルダに配置します。

3. ゲームを実行します。

```
go run main.go
```

## 実行ファイルの作成方法

Windows用の実行ファイル（.exe）を作成する場合は、以下のコマンドを実行してください。

```
go build -o simplegame.exe main.go
```

macOSやLinuxの場合は、

```
go build -o simplegame main.go
```

これでカレントディレクトリに実行ファイルが生成されます。

## カスタマイズ例
- ステージや敵の出現パターンは`main.go`内の`stages`変数で編集可能
- フォントや星の色、弾の速度・発射間隔なども自由に調整できます

---
ご自由にカスタマイズしてお楽しみください！ 